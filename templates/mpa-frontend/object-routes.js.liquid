{%- assign filename = object.name | kebabCase | append: "-routes.js" -%}
{% render "../../templates/license_header_js.liquid",
		project     : project.attributes.backend_project_name,
  		description : project.attributes.backend_project_description,
		authors     : project.attributes.authors,
		copyright   : project.attributes.copyright,
		filename    : filename 
		%}
'use script';
const {{object.name | camelCase}}Api = require('../api/{{object.name | kebabCase}}-api.js');

module.exports = (app) => {
        const ViewSingleton = require('../views/view.js');
        const view = ViewSingleton.getInstance();

	app.get('/{{object.name | kebabCase}}/list', async (request, response) => {
		const {{object.name | camelCase}}List = await {{object.name | camelCase}}Api.get{{object.name | pascalCase}}List();
		view.renderPage('{{object.name | kebabCase}}-list',  response, {
			{{object.name | camelCase}}List: {{object.name | camelCase}}List
		});
	});

}

