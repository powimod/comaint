{% render "../../templates/license_header_js.liquid",
		project     : project.attributes.spa_frontend_project_name,
  		description : project.attributes.spa_frontend_project_description,
		authors     : project.attributes.authors,
		copyright   : project.attributes.copyright,
		filename    : 'components/Header.jsx'
		%}
import { useState } from 'react';
import { useTranslation } from 'react-i18next';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import { faCoffee } from '@fortawesome/free-solid-svg-icons'

import PaletteIcon from './PaletteIcon';
import LoginDialog from './LoginDialog';
import CreateAccountDialog from './CreateAccountDialog';
import AccessibilityDialog from './AccessibilityDialog';

const Header = (props) => {
	const { t } = useTranslation();
	const [isLoginDialogOpen, setIsLoginDialogOpen] = useState(false);
	const [isCreateAccountDialogOpen, setIsCreateAccountDialogOpen] = useState(false);
	const [isAccessibilityDialogOpen, setIsAccessibilityDialogOpen] = useState(false);

	const onAccountButtonClick = () => {
		setIsLoginDialogOpen(true)
	}

	const onLoginDialogClose = () => {
		setIsLoginDialogOpen(false)
	}

	const onCreateAccount = () => {
		setIsLoginDialogOpen(false)
		setIsCreateAccountDialogOpen(true);
	}

	const onCreateAccountDialogClose = () => {
		setIsCreateAccountDialogOpen(false);
	}

	const onAccessibilityDialogClose = () => {
		setIsAccessibilityDialogOpen(false);
	}

	const onAccessibilityButtonClick = () => {
		setIsAccessibilityDialogOpen(true);
	}

	return (<>
		<header>
			<img className="logo" src="logo.svg"/>
			<span className="title">{t('header_title')}</span>
			<span className="subtitle">{t('header_subtitle')}</span>
			<FontAwesomeIcon className="accessibility-button" icon={faCoffee} onClick={onAccessibilityButtonClick} size="2x" inverse/>
			<PaletteIcon className="account-button" element="user" button="true" onClick={onAccountButtonClick} />
		</header>
		<LoginDialog isOpen={isLoginDialogOpen} onClose={onLoginDialogClose} onCreateAccount={onCreateAccount} /> 
		<CreateAccountDialog isOpen={isCreateAccountDialogOpen} onClose={onCreateAccountDialogClose} /> 
		<AccessibilityDialog isOpen={isAccessibilityDialogOpen} onClose={onAccessibilityDialogClose} /> 
	</>)
}

export default Header;
